# Changelog v0.7.8 - Vehicle Database UI

**Ğ”Ğ°Ñ‚Ğ°:** 25 Ğ¾ĞºÑ‚ÑĞ±Ñ€Ñ 2025  
**Ğ’ĞµÑ€ÑĞ¸Ñ:** 0.7.8  
**Ğ¢Ğ¸Ğ¿:** Feature

---

## ğŸ“ ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ

Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ° ÑĞµĞºÑ†Ğ¸Ñ **Vehicle Database** Ğ² Dashboard Ñ ĞºĞ½Ğ¾Ğ¿ĞºĞ¾Ğ¹ Ğ´Ğ»Ñ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğ³Ğ¾ ÑĞ±Ğ¾Ñ€Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ñ‚ĞµÑ…Ğ½Ğ¸ĞºĞ¸ Ğ¸Ğ· Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ² War Thunder.

---

## âœ¨ ĞĞ¾Ğ²Ñ‹Ğµ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸

### **Vehicle Database Section Ğ² Dashboard**

**Ğ›Ğ¾ĞºĞ°Ñ†Ğ¸Ñ:** Dashboard â†’ Vehicle Database

**ĞšĞ¾Ğ³Ğ´Ğ° Ğ±Ğ°Ğ·Ğ° Ğ¿ÑƒÑÑ‚Ğ°:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ’¿ Vehicle Database             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                 â”‚
â”‚        ğŸ’¿                       â”‚
â”‚   Database is empty             â”‚
â”‚   Build from War Thunder files  â”‚
â”‚   to show vehicle data          â”‚
â”‚                                 â”‚
â”‚ [Build Vehicle Database]        â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ĞšĞ¾Ğ³Ğ´Ğ° Ğ±Ğ°Ğ·Ğ° Ğ·Ğ°Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ°:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ’¿ Vehicle Database             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  500  â”‚  300  â”‚  100  â”‚      â”‚
â”‚  â”‚ âœˆï¸ Air â”‚ ğŸšœ Tankâ”‚ âš“ Shipâ”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                 â”‚
â”‚ [Rebuild Database]              â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ:**
1. **ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ¿Ğ¾Ğ¸ÑĞº War Thunder:**
   - ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµÑ‚ Ñ€ĞµĞµÑÑ‚Ñ€ Windows
   - Ğ˜Ñ‰ĞµÑ‚ Ğ¿Ğ¾ ÑÑ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ğ½Ñ‹Ğ¼ Ğ¿ÑƒÑ‚ÑĞ¼
   - ĞĞ°Ñ…Ğ¾Ğ´Ğ¸Ñ‚ `aces.vromfs.bin_u`

2. **ĞŸĞ°Ñ€ÑĞ¸Ğ½Ğ³ Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²:**
   - Ğ§Ğ¸Ñ‚Ğ°ĞµÑ‚ `.blkx` Ñ„Ğ°Ğ¹Ğ»Ñ‹
   - Ğ˜Ğ·Ğ²Ğ»ĞµĞºĞ°ĞµÑ‚ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ñ‚ĞµÑ…Ğ½Ğ¸ĞºĞ¸:
     - âœˆï¸ Aircraft: Vne, Flutter, G-limits, Engine, Mass
     - ğŸšœ Ground: Max Speed, Engine, Mass, Armor, HP
     - âš“ Ships: Max Speed, Compartments, HP, Critical modules

3. **SQLite Ğ±Ğ°Ğ·Ğ°:**
   - Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ÑĞµÑ‚ Ğ² Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½ÑƒÑ Ğ‘Ğ”
   - Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿
   - ĞĞµ Ñ‚Ñ€ĞµĞ±ÑƒĞµÑ‚ Ğ¸Ğ½Ñ‚ĞµÑ€Ğ½ĞµÑ‚

4. **Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ°:**
   - ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ ÑĞ°Ğ¼Ğ¾Ğ»ĞµÑ‚Ğ¾Ğ²
   - ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ñ‚Ğ°Ğ½ĞºĞ¾Ğ²
   - ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ ĞºĞ¾Ñ€Ğ°Ğ±Ğ»ĞµĞ¹

---

## ğŸ¨ UI/UX

### **Ğ¡Ğ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ñ ĞºĞ½Ğ¾Ğ¿ĞºĞ¸:**

**Idle (Ğ±Ğ°Ğ·Ğ° Ğ¿ÑƒÑÑ‚Ğ°):**
```tsx
<button className="btn btn-primary btn-sm">
  <Database size={16} />
  Build Vehicle Database
</button>
```

**Loading:**
```tsx
<button className="btn btn-primary btn-sm" disabled>
  <Database size={16} className="spin" />
  Building Database...
</button>
```

**Success:**
- ĞšĞ½Ğ¾Ğ¿ĞºĞ° ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑÑ "Rebuild Database"
- ĞŸĞ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ÑÑ‚ÑÑ ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ¸ (Aircraft / Ground / Ships)
- Debug log: `âœ… Database built: 500 aircraft, 300 ground, 100 ships`

**Error:**
- Debug log: `âŒ Database error: War Thunder not found`
- ĞšĞ½Ğ¾Ğ¿ĞºĞ° Ğ¾ÑÑ‚Ğ°ĞµÑ‚ÑÑ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾Ğ¹ Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€Ğ½Ğ¾Ğ¹ Ğ¿Ğ¾Ğ¿Ñ‹Ñ‚ĞºĞ¸

---

## ğŸ”§ Ğ¢ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ´ĞµÑ‚Ğ°Ğ»Ğ¸

### **Dashboard.tsx:**
```typescript
const [dbStats, setDbStats] = useState<[number, number, number] | null>(null);
const [isParsingDb, setIsParsingDb] = useState(false);

// Check DB stats every 3s
useEffect(() => {
  const checkDbStats = async () => {
    const stats = await api.datamineGetStats(); // [aircraft, ground, ships]
    setDbStats(stats);
  };
  
  checkDbStats();
  const interval = setInterval(checkDbStats, 3000);
  return () => clearInterval(interval);
}, []);

// Build database
const handleInitDatabase = async () => {
  setIsParsingDb(true);
  
  const result = await api.datamineAutoInit();
  // "Database built: 500 aircraft, 300 ground, 100 ships"
  
  const stats = await api.datamineGetStats();
  setDbStats(stats);
  
  setIsParsingDb(false);
};
```

### **Backend flow:**
```rust
datamine_auto_init()
  â†“
1. Check if database exists
   - If has data â†’ return stats
   â†“
2. Auto-detect War Thunder
   - Windows Registry
   - Common paths
   â†“
3. Parse all files
   - Aircraft: gamedata/flightmodels/fm/*.blkx
   - Ground: gamedata/units/tankmodels/*.blkx
   - Ships: gamedata/units/ships/*.blkx
   â†“
4. Save to SQLite
   - tables: aircraft, ground, ships
   â†“
5. Return stats
   - [500, 300, 100]
```

---

## ğŸ“Š Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹

**Ğ¤Ğ°Ğ¹Ğ»Ñ‹:**
- `src/components/Dashboard.tsx` - Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ° ÑĞµĞºÑ†Ğ¸Ñ (+120 lines)
- `package.json`, `Cargo.toml`, `tauri.conf.json` - Ğ²ĞµÑ€ÑĞ¸Ñ 0.7.8

**Ğ¡Ñ‚Ñ€Ğ¾ĞºĞ¸:**
- +120 ÑÑ‚Ñ€Ğ¾Ğº UI
- +2 useState hooks
- +1 button handler

---

## ğŸ§ª Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

### **Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¸:**
1. âœ… ĞŸĞµÑ€Ğ²Ñ‹Ğ¹ Ğ·Ğ°Ğ¿ÑƒÑĞº â†’ Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ "Database is empty"
2. âœ… ĞšĞ»Ğ¸Ğº "Build" â†’ Ğ¿Ğ°Ñ€ÑĞ¸Ğ½Ğ³ Ğ½Ğ°Ñ‡Ğ¸Ğ½Ğ°ĞµÑ‚ÑÑ, ĞºĞ½Ğ¾Ğ¿ĞºĞ° disabled
3. âœ… ĞŸĞ°Ñ€ÑĞ¸Ğ½Ğ³ ÑƒÑĞ¿ĞµÑˆĞµĞ½ â†’ Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ¸
4. âœ… War Thunder Ğ½Ğµ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½ â†’ Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ¾ÑˆĞ¸Ğ±ĞºÑƒ Ğ² Debug Console
5. âœ… ĞšĞ»Ğ¸Ğº "Rebuild" â†’ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ÑĞµÑ‚ Ğ±Ğ°Ğ·Ñƒ (ĞµÑĞ»Ğ¸ Ğ²Ñ‹ÑˆĞµĞ» Ğ¿Ğ°Ñ‚Ñ‡ WT)
6. âœ… Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ¸ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ÑÑÑ‚ÑÑ ĞºĞ°Ğ¶Ğ´Ñ‹Ğµ 3 ÑĞµĞºÑƒĞ½Ğ´Ñ‹

---

## ğŸ“¦ Commit

**ĞĞ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ:**  
`v0.7.8: Add Vehicle Database UI to Dashboard`

**ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ:**
```
Feature:
- Add "Vehicle Database" section to Dashboard
- Button to auto-build database from WT files
- Show stats: Aircraft / Ground / Ships count
- Auto-refresh stats every 3 seconds
- Loading state with spinner
- Empty state placeholder

UI:
- Grid layout for stats (3 columns)
- Color coding (blue/green/blue for types)
- Rebuild button when database exists

Files:
- src/components/Dashboard.tsx: new section (+120 lines)
- package.json, Cargo.toml, tauri.conf.json: v0.7.8
```

---

## ğŸ¯ Ğ˜Ñ‚Ğ¾Ğ³

**Ğ¢ĞµĞ¿ĞµÑ€ÑŒ ĞĞ• ĞĞ£Ğ–ĞĞ:**
- âŒ Ğ’Ñ€ÑƒÑ‡Ğ½ÑƒÑ Ğ¸ÑĞºĞ°Ñ‚ÑŒ War Thunder
- âŒ Ğ’Ñ‹Ğ·Ñ‹Ğ²Ğ°Ñ‚ÑŒ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹ Ğ² Debug Console
- âŒ Ğ˜ÑĞºĞ°Ñ‚ÑŒ Ğ³Ğ´Ğµ Ğ²ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ Ğ¿Ğ°Ñ€ÑĞ¸Ğ½Ğ³

**ĞÑƒĞ¶Ğ½Ğ¾ Ğ¢ĞĞ›Ğ¬ĞšĞ:**
- âœ… ĞĞ°Ğ¶Ğ°Ñ‚ÑŒ Ğ¾Ğ´Ğ½Ñƒ ĞºĞ½Ğ¾Ğ¿ĞºÑƒ "Build Vehicle Database"
- âœ… ĞŸĞ¾Ğ´Ğ¾Ğ¶Ğ´Ğ°Ñ‚ÑŒ 10-30 ÑĞµĞºÑƒĞ½Ğ´
- âœ… Ğ‘Ğ°Ğ·Ğ° Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ°!

**ĞŸĞ°Ñ‚Ñ‡ Ğ³Ğ¾Ñ‚Ğ¾Ğ²!** ğŸš€

---

## ğŸ“ Ğ”Ğ»Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ

**Ğ˜Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ğ¸Ñ:**

1. **ĞÑ‚ĞºÑ€Ğ¾Ğ¹ Dashboard** (Ğ³Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ ÑĞºÑ€Ğ°Ğ½)
2. **ĞĞ°Ğ¹Ğ´Ğ¸ ÑĞµĞºÑ†Ğ¸Ñ "Vehicle Database"** (Ğ²Ğ½Ğ¸Ğ·Ñƒ Ğ¿Ğ¾Ğ´ Safety badge)
3. **ĞĞ°Ğ¶Ğ¼Ğ¸ "Build Vehicle Database"**
4. **ĞŸĞ¾Ğ´Ğ¾Ğ¶Ğ´Ğ¸ 10-30 ÑĞµĞºÑƒĞ½Ğ´** (Ğ² Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ Ğ¾Ñ‚ ĞŸĞš)
5. **Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ğ¾!** Ğ£Ğ²Ğ¸Ğ´Ğ¸ÑˆÑŒ ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºÑƒ:
   - âœˆï¸ 500 Aircraft
   - ğŸšœ 300 Ground
   - âš“ 100 Ships

**Ğ¢ĞµĞ¿ĞµÑ€ÑŒ Vehicle Information Card Ğ¿Ğ¾ĞºĞ°Ğ¶ĞµÑ‚ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ñ‚ĞµÑ…Ğ½Ğ¸ĞºĞ¸!**

Ğ•ÑĞ»Ğ¸ War Thunder Ğ½Ğµ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸:
- Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸ Ğ¸Ğ³Ñ€Ñƒ Ñ…Ğ¾Ñ‚Ñ Ğ±Ñ‹ Ñ€Ğ°Ğ·
- Ğ˜Ğ»Ğ¸ ÑƒĞºĞ°Ğ¶Ğ¸ Ğ¿ÑƒÑ‚ÑŒ Ğ²Ñ€ÑƒÑ‡Ğ½ÑƒÑ (Ğ¿Ğ¾ĞºĞ° Ğ½ĞµÑ‚ UI, Ğ½Ğ¾ ÑĞºĞ¾Ñ€Ğ¾ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ğ¼)

