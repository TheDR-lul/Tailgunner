# üß™ Test Mode - –ò—Ç–æ–≥–æ–≤—ã–π –û—Ç—á—ë—Ç

## ‚úÖ –ß–¢–û –°–î–ï–õ–ê–ù–û

### 1. **HTTP API –°–µ—Ä–≤–µ—Ä (–ø–æ—Ä—Ç 8112)** üåê

```rust
// src-tauri/src/api_server.rs
- –ü–æ–ª–Ω—ã–π —ç–º—É–ª—è—Ç–æ—Ä War Thunder API
- 12 endpoints (–≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ)
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –æ—Å–Ω–æ–≤–µ EmulatorState
- CORS –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- Async Axum framework
```

**Endpoints:**
- ‚úÖ `/status` - —Å—Ç–∞—Ç—É—Å –∏–≥—Ä—ã
- ‚úÖ `/indicators` - –ø—Ä–∏–±–æ—Ä—ã (RPM, throttle, gear, etc)
- ‚úÖ `/state` - –ø–æ–ª—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (IAS, TAS, altitude, AoA, G-load)
- ‚úÖ `/map_obj.json` - –æ–±—ä–µ–∫—Ç—ã –Ω–∞ –∫–∞—Ä—Ç–µ
- ‚úÖ `/map_info.json` - –∏–Ω—Ñ–æ –∫–∞—Ä—Ç—ã
- ‚úÖ `/map.img` - –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–∞—Ä—Ç—ã
- ‚úÖ `/gamechat` - –ø–æ–ª—É—á–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è
- ‚úÖ `/gamechat/send` - –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
- ‚úÖ `/hudmsg` - HUD —Å–æ–±—ã—Ç–∏—è
- ‚úÖ `/mission.json` - –∑–∞–¥–∞—á–∏ –º–∏—Å—Å–∏–∏
- ‚úÖ `/info`, `/gunner_view`, `/damage` - –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ

---

### 2. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ü–æ—Ä—Ç–æ–≤** üîÑ

```rust
// src-tauri/src/wt_telemetry.rs
impl WTTelemetryReader {
    base_url: String,  // –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π URL
    
    pub fn set_emulator_mode(&mut self, enabled: bool) {
        if enabled {
            self.base_url = "http://127.0.0.1:8112"; // –≠–ú–£–õ–Ø–¢–û–†
        } else {
            self.base_url = "http://127.0.0.1:8111"; // –†–ï–ê–õ–¨–ù–ê–Ø –ò–ì–†–ê
        }
    }
}
```

**–õ–æ–≥–∏–∫–∞:**
1. **Test Mode ON** ‚Üí –î–≤–∏–∂–æ–∫ —á–∏—Ç–∞–µ—Ç —Å `:8112`
2. **Test Mode OFF** ‚Üí –î–≤–∏–∂–æ–∫ —á–∏—Ç–∞–µ—Ç —Å `:8111`
3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±—Ä–æ—Å** —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏

---

### 3. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è UI** üîó

```typescript
// src/components/APIEmulator.tsx
// –ò—Å–ø–æ–ª—å–∑—É–µ—Ç api.* –º–µ—Ç–æ–¥—ã –≤–º–µ—Å—Ç–æ –ø—Ä—è–º–æ–≥–æ invoke
loadState = async () => {
  const state = await api.emulatorGetState();
  setState(state);
};

// –ö–Ω–æ–ø–∫–∞ –≤ –ø–∞–Ω–µ–ª–∏
toggleEnabled = async () => {
  await api.emulatorSetEnabled(!enabled);
};
```

```typescript
// src/App.tsx
// –ö–Ω–æ–ø–∫–∞ –≤ header
useEffect(() => {
  setInterval(async () => {
    const state = await api.emulatorGetState();
    setTestModeEnabled(state.enabled);
  }, 1000);
}, []);
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –ö–Ω–æ–ø–∫–∞ üß™ –≤ header
- ‚úÖ –ü–∞–Ω–µ–ª—å API Emulator –≤–Ω–∏–∑—É
- ‚úÖ –û–±–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã (polling 1 —Å–µ–∫)
- ‚úÖ –û–¥–∏–Ω –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã

---

### 4. **–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –ß–∞—Ç** üí¨

```typescript
// UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
<input 
  value={chatMessage}
  onChange={e => setChatMessage(e.target.value)}
  onKeyPress={e => e.key === 'Enter' && sendChat()}
/>
<button onClick={sendChat}>Send</button>

// –†–µ–∂–∏–º—ã
['Team', 'All', 'Squad'].map(mode => (
  <button onClick={() => setChatMode(mode)}>{mode}</button>
))
```

```rust
// Backend endpoint
POST /gamechat/send
{
  "message": "Test message",
  "mode": "Team"
}

// –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ Arc<RwLock<Vec<ChatMessage>>>
// –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ GET /gamechat?lastId=0
```

**–§–∏—á–∏:**
- ‚úÖ 3 —Ä–µ–∂–∏–º–∞: Team / All / Squad
- ‚úÖ Enter –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏
- ‚úÖ –°–æ–æ–±—â–µ–Ω–∏—è –≤ Game Feed
- ‚úÖ Persistence –≤ –ø–∞–º—è—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞

---

### 5. **–í—Å–µ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ API** üìä

```rust
// EmulatorState
pub struct EmulatorState {
    // –û—Å–Ω–æ–≤–Ω—ã–µ
    enabled: bool,
    vehicle_type: VehicleType,  // Tank | Aircraft | Ship
    in_battle: bool,
    
    // –î–≤–∏–∂–µ–Ω–∏–µ
    speed: f32,           // –∫–º/—á
    altitude: f32,        // –º–µ—Ç—Ä—ã
    heading: f32,         // –≥—Ä–∞–¥—É—Å—ã 0-360
    position: (f32, f32), // –∫–∞—Ä—Ç–∞ [0..1, 0..1]
    
    // –ë–æ–µ–≤—ã–µ
    ammo: i32,            // —Å–Ω–∞—Ä—è–¥—ã
    hp: f32,              // % –∑–¥–æ—Ä–æ–≤—å—è
    
    // –î–≤–∏–≥–∞—Ç–µ–ª—å
    engine_running: bool,
}
```

**–ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ:**
- `indicators.*` - ~30 –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (RPM, throttle, gear, flaps, etc)
- `state.*` - ~40 –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (IAS, TAS, AoA, Ny, controls, fuel, etc)
- `map_obj.json` - –∏–≥—Ä–æ–∫ + 5 –æ–±—ä–µ–∫—Ç–æ–≤ (–≤—Ä–∞–≥–∏, —Å–æ—é–∑–Ω–∏–∫–∏)
- `map_info.json` - grid —Ä–∞–∑–º–µ—Ä—ã, steps, zero point

---

### 6. **–°–æ–±—ã—Ç–∏—è (Events)** ‚ö°

```typescript
// –¢—Ä–∏–≥–≥–µ—Ä —Å–æ–±—ã—Ç–∏–π
await api.emulatorTriggerEvent('Hit');
await api.emulatorTriggerEvent('Kill');
await api.emulatorTriggerEvent('CriticalHit');
await api.emulatorTriggerEvent('Shooting');
await api.emulatorTriggerEvent('EngineOverheat');
```

```rust
// –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ Vec<EmulatedEvent>
pub struct EmulatedEvent {
    timestamp: u64,
    event_type: String,
}

// –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ GET /hudmsg
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –°–æ–±—ã—Ç–∏—è —Ç—Ä–∏–≥–≥–µ—Ä—è—Ç—Å—è –∫–∞–∫ –≤ —Ä–µ–∞–ª—å–Ω–æ–π –∏–≥—Ä–µ
- ‚úÖ –ü–∞—Ç—Ç–µ—Ä–Ω—ã –∞–∫—Ç–∏–≤–∏—Ä—É—é—Ç—Å—è
- ‚úÖ –õ–æ–≥–∏—Ä—É–µ—Ç—Å—è –≤ HUD

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                 React UI                         ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê           ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ  Header  ‚îÇ           ‚îÇ   API Emulator   ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ   üß™     ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ      Panel       ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  Sync     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ                      ‚îÇ
           ‚ñº                      ‚ñº
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ        Tauri Backend (Rust)               ‚îÇ
    ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê‚îÇ
    ‚îÇ  ‚îÇ Axum HTTP  ‚îÇ      ‚îÇ  API Emulator   ‚îÇ‚îÇ
    ‚îÇ  ‚îÇ Server     ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ  State Manager  ‚îÇ‚îÇ
    ‚îÇ  ‚îÇ Port: 8112 ‚îÇ      ‚îÇ                 ‚îÇ‚îÇ
    ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò‚îÇ
    ‚îÇ        ‚îÇ                                  ‚îÇ
    ‚îÇ        ‚ñº                                  ‚îÇ
    ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                    ‚îÇ
    ‚îÇ  ‚îÇ  WTTelemetry    ‚îÇ                    ‚îÇ
    ‚îÇ  ‚îÇ  Reader         ‚îÇ                    ‚îÇ
    ‚îÇ  ‚îÇ  base_url: 8112 ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îê              ‚îÇ
    ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ Switch       ‚îÇ
    ‚îÇ                          ‚îÇ              ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                               ‚îÇ
                 ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                 ‚îÇ                            ‚îÇ
                 ‚ñº                            ‚ñº
        :8112 (Emulator)           :8111 (Real Game)
```

---

## üéØ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```typescript
// 1. –í–∫–ª—é—á–∏—Ç—å Test Mode (–∫–ª–∏–∫–Ω—É—Ç—å üß™ –≤ header)
await api.emulatorSetEnabled(true);

// 2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
await api.emulatorSetVehicleType('Aircraft');
await api.emulatorSetSpeed(500);
await api.emulatorSetAltitude(5000);
await api.emulatorSetInBattle(true);

// 3. –¢—Ä–∏–≥–≥–µ—Ä–∏—Ç—å —Å–æ–±—ã—Ç–∏—è
await api.emulatorTriggerEvent('Hit');
// ‚Üí –û–∂–∏–¥–∞–µ–º –≤–∏–±—Ä–∞—Ü–∏—é!

// 4. –û—Ç–ø—Ä–∞–≤–∏—Ç—å —á–∞—Ç
await api.emulatorSendChat('Test message', 'Team');
// ‚Üí –ü–æ—è–≤–∏—Ç—Å—è –≤ Game Feed!
```

---

## üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –û—à–∏–±–∫–∏

### 1. ‚ùå `GameEvent::TargetCritical` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
```rust
// src-tauri/src/hud_messages.rs:171
- assert_eq!(parse_event(msg), Some(GameEvent::TargetCritical));
+ assert_eq!(parse_event(msg), Some(GameEvent::TargetSeverelyDamaged));
```

### 2. ‚ùå APIEmulator –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª `invoke` –Ω–∞–ø—Ä—è–º—É—é
```typescript
// src/components/APIEmulator.tsx
- import { invoke } from '@tauri-apps/api/core';
+ import { api } from '../api';

- await invoke('emulator_set_enabled', { enabled });
+ await api.emulatorSetEnabled(enabled);
```

### 3. ‚ùå `WT_TELEMETRY_URL` –±—ã–ª –∫–æ–Ω—Å—Ç–∞–Ω—Ç–æ–π
```rust
// src-tauri/src/wt_telemetry.rs
- const WT_TELEMETRY_URL: &str = "http://127.0.0.1:8111";
+ const WT_TELEMETRY_URL_REAL: &str = "http://127.0.0.1:8111";
+ const WT_TELEMETRY_URL_EMULATOR: &str = "http://127.0.0.1:8112";

- let url = format!("{}/state", WT_TELEMETRY_URL);
+ let url = format!("{}/state", &self.base_url);
```

---

## üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| **–ù–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤** | 2 (`api_server.rs`, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è) |
| **–ò–∑–º–µ–Ω—ë–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤** | 6 |
| **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞ (Rust)** | ~400 |
| **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞ (TypeScript)** | ~150 |
| **Endpoints** | 12 |
| **–ü–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —ç–º—É–ª—è—Ü–∏–∏** | ~70+ |
| **–¢–∏–ø–æ–≤ —Å–æ–±—ã—Ç–∏–π** | 15+ |
| **–†–µ–∂–∏–º–æ–≤ —á–∞—Ç–∞** | 3 |

---

## üöÄ –ß—Ç–æ –î–∞–ª—å—à–µ

### –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:

1. **–ë–æ–ª—å—à–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏–∑ –¥–∞–º–ø–æ–≤**
   - –î–æ–±–∞–≤–∏—Ç—å –≤—Å–µ indicators –∏–∑ real API
   - –í—Å–µ state –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
   - Damage endpoint —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

2. **–£–ª—É—á—à–µ–Ω–∏–µ –∫–∞—Ä—Ç—ã**
   - –ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
   - –ù–∞—Å—Ç–æ—è—â–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
   - –ë–æ–ª—å—à–µ –æ–±—ä–µ–∫—Ç–æ–≤

3. **Preset'—ã**
   - –°–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
   - –ë—ã—Å—Ç—Ä–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ
   - –ò–º–ø–æ—Ä—Ç/—ç–∫—Å–ø–æ—Ä—Ç

4. **Record/Replay**
   - –ó–∞–ø–∏—Å—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–æ–±—ã—Ç–∏–π
   - –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ
   - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤

5. **Graceful Shutdown**
   - –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ Axum
   - –û—á–∏—Å—Ç–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤

---

## üìù –§–∞–π–ª—ã

### –°–æ–∑–¥–∞–Ω–Ω—ã–µ
- ‚úÖ `src-tauri/src/api_server.rs` - HTTP —Å–µ—Ä–≤–µ—Ä
- ‚úÖ `reports/TEST_MODE_DOCUMENTATION.md` - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ `reports/TEST_MODE_SUMMARY_RU.md` - —ç—Ç–æ—Ç —Ñ–∞–π–ª

### –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ
- ‚úÖ `src-tauri/src/lib.rs` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è, –∫–æ–º–∞–Ω–¥—ã
- ‚úÖ `src-tauri/src/wt_telemetry.rs` - –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø–æ—Ä—Ç–æ–≤
- ‚úÖ `src-tauri/src/api_emulator.rs` - –ø—É–±–ª–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã
- ‚úÖ `src-tauri/src/hud_messages.rs` - fix —Ç–µ—Å—Ç–∞
- ‚úÖ `src-tauri/Cargo.toml` - –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (axum, tower)
- ‚úÖ `src/components/APIEmulator.tsx` - —á–∞—Ç UI
- ‚úÖ `src/api.ts` - –Ω–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã
- ‚úÖ `src/App.tsx` - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è header

---

## ‚ú® –ò—Ç–æ–≥–∏

### –ü—Ä–æ–±–ª–µ–º–∞
> "–∫–æ–Ω—Å–æ–ª—å –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç API test Mode. –≤ –≤–≤–µ—Ä—Ö—É –¥–æ–±–∞–≤—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä. –í—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ test mode. —ç–º—É–ª–∏—Ä—É–µ–º API –ª–æ–∫–∞–ª—å–Ω–æ. —á–∞—Ç —Å –æ—Ç–ø—Ä–∞–≤–∫–æ–π —Å–æ–æ–±—â–µ–Ω–∏–π. –ø–æ—á–µ–º—É –∫–Ω–æ–ø–∫–∞ –≤ –±–æ–∫—Å–µ –Ω–µ –∏–º–µ–µ—Ç —Å–≤—è–∑–∏ —Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–º —Å–≤–µ—Ä—Ö—É?"

### –†–µ—à–µ–Ω–∏–µ
1. ‚úÖ **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –≤ header** - –¥–æ–±–∞–≤–ª–µ–Ω üß™ –∫–Ω–æ–ø–∫–∞
2. ‚úÖ **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** - –∫–Ω–æ–ø–∫–∞ ‚Üî –ø–∞–Ω–µ–ª—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç `api.*`
3. ‚úÖ **HTTP —Å–µ—Ä–≤–µ—Ä** - –ø–æ—Ä—Ç 8112, –≤—Å–µ endpoints
4. ‚úÖ **–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ** - –¥–≤–∏–∂–æ–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è 8111‚Üî8112
5. ‚úÖ **–í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã** - indicators, state, map, mission
6. ‚úÖ **–ß–∞—Ç** - –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π —Å –æ—Ç–ø—Ä–∞–≤–∫–æ–π –∏ —Ä–µ–∂–∏–º–∞–º–∏
7. ‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - –ø–æ–¥—Ä–æ–±–Ω–∞—è –≤ `/reports`

### –†–µ–∑—É–ª—å—Ç–∞—Ç
üéâ **Test Mode –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω!**
- –ú–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω—ã –±–µ–∑ –∏–≥—Ä—ã
- –í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è
- –°–æ–±—ã—Ç–∏—è —Ç—Ä–∏–≥–≥–µ—Ä—è—Ç—Å—è
- –ß–∞—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç
- UI —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω

---

**–î–∞—Ç–∞:** 2025-10-26  
**–í–µ—Ä—Å–∏—è:** 0.8.1  
**–ê–≤—Ç–æ—Ä:** Butt Thunder Team üöÄ

