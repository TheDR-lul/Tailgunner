# üéØ Test Mode - –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

## –û–±–∑–æ—Ä

–≠–º—É–ª—è—Ç–æ—Ä –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç **70+ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤** —Ç–æ—á–Ω–æ –∫–∞–∫ —Ä–µ–∞–ª—å–Ω—ã–π War Thunder API.

---

## üìä EmulatorState - –í–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

### Core State
```rust
enabled: bool              // –í–∫–ª—é—á—ë–Ω –ª–∏ —ç–º—É–ª—è—Ç–æ—Ä
vehicle_type: VehicleType  // Tank | Aircraft | Ship
in_battle: bool            // –í –±–æ—é –∏–ª–∏ –Ω–µ—Ç
```

### Movement (–î–≤–∏–∂–µ–Ω–∏–µ)
```rust
speed: f32          // –∫–º/—á (IAS)
altitude: f32       // –º–µ—Ç—Ä—ã
heading: f32        // –≥—Ä–∞–¥—É—Å—ã 0-360
position: [f32; 2]  // –∫–∞—Ä—Ç–∞ [0..1, 0..1]
```

### Combat (–ë–æ–µ–≤—ã–µ)
```rust
ammo: i32           // —Å–Ω–∞—Ä—è–¥—ã
hp: f32             // % –∑–¥–æ—Ä–æ–≤—å—è
engine_running: bool
```

### Aircraft Specific (–°–∞–º–æ–ª—ë—Ç)
```rust
tas: f32            // True Air Speed –∫–º/—á
ias: f32            // Indicated Air Speed –∫–º/—á
mach: f32           // –ß–∏—Å–ª–æ –ú–∞—Ö–∞
aoa: f32            // Angle of Attack –≥—Ä–∞–¥—É—Å—ã
aos: f32            // Angle of Sideslip –≥—Ä–∞–¥—É—Å—ã
g_load: f32         // Ny (–ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞)
vertical_speed: f32 // Vy –º/—Å
roll_rate: f32      // Wx –≥—Ä–∞–¥/—Å
```

### Fuel (–¢–æ–ø–ª–∏–≤–æ)
```rust
fuel_kg: f32        // –¢–µ–∫—É—â–µ–µ —Ç–æ–ø–ª–∏–≤–æ –∫–≥
fuel_max_kg: f32    // –ú–∞–∫—Å–∏–º—É–º –∫–≥
```

### Engine (–î–≤–∏–≥–∞—Ç–µ–ª—å)
```rust
rpm: f32                 // RPM –¥–≤–∏–≥–∞—Ç–µ–ª—è
throttle: f32            // 0-100%
manifold_pressure: f32   // atm
oil_temp: f32            // Celsius
water_temp: f32          // Celsius
thrust: f32              // kgs
```

### Controls (–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)
```rust
stick_elevator: f32  // -1 to 1
stick_ailerons: f32  // -1 to 1
pedals: f32          // -1 to 1
flaps: f32           // 0-1
gear: f32            // 0-1 (0=—É–±—Ä–∞–Ω–æ, 1=–≤—ã–ø—É—â–µ–Ω–æ)
```

### Orientation (–û—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è)
```rust
pitch: f32     // aviahorizon_pitch –≥—Ä–∞–¥—É—Å—ã
roll: f32      // aviahorizon_roll –≥—Ä–∞–¥—É—Å—ã
compass: f32   // heading –≥—Ä–∞–¥—É—Å—ã
```

---

## üõ©Ô∏è /indicators (Aircraft)

### –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
```json
{
  "valid": true,
  "army": "air",
  "type": "aircraft",
  
  // Speed
  "speed": 550,                    // IAS –∫–º/—á
  
  // Controls
  "pedals": 0.0,                   // Rudder pedals -1..1
  "pedals1": 0.0,
  "pedals2": 0.0,
  "stick_elevator": 0.0,           // Pitch stick -1..1
  "stick_ailerons": 0.0,           // Roll stick -1..1
  
  // Altitude
  "altitude_hour": 5,              // Thousands meters
  "altitude_min": 5,               // Hundreds meters
  
  // Attitude
  "aviahorizon_roll": 0.0,         // Roll angle deg
  "aviahorizon_pitch": 0.0,        // Pitch angle deg
  
  // Navigation
  "compass": 90.0,                 // Heading deg
  "compass1": 90.0,
  
  // Engine
  "rpm": 4400,                     // Engine RPM
  "throttle": 55.0,                // Throttle %
  "water_temperature": 90.0,       // Coolant temp C
  
  // Landing gear
  "gears": 1.0,                    // 0=retracted, 1=extended
  "gear_lamp_down": 1.0,           // Green light
  "gear_lamp_up": 0.0,             // Red light
  "gear_lamp_off": 0.0,            // Off
  
  // Weapons
  "weapon2": 1.0,                  // Guns ready
  "weapon4": 1.0,                  // Rockets/bombs ready
  
  // Misc
  "blister1": 0.0,
  "blister2": 0.0,
  "blister3": 0.0,
  "blister4": 0.0,
  "blister5": 0.0,
  "blister6": 0.0,
  "blister11": 0.0
}
```

---

## üõ©Ô∏è /state (Aircraft)

### –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
```json
{
  "valid": true,
  
  // === Altitude & Speed ===
  "H, m": 5000,                    // Altitude meters
  "TAS, km/h": 620,                // True Air Speed
  "IAS, km/h": 550,                // Indicated Air Speed
  "M": 0.506,                      // Mach number
  
  // === Angles ===
  "AoA, deg": 3.5,                 // Angle of Attack
  "AoS, deg": -0.5,                // Sideslip angle
  
  // === G-load & Vertical Speed ===
  "Ny": 1.2,                       // G-load (–ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞)
  "Vy, m/s": 15.5,                 // Vertical speed
  "Wx, deg/s": 12.0,               // Roll rate
  
  // === Fuel ===
  "Mfuel, kg": 3000,               // Current fuel
  "Mfuel0, kg": 5000,              // Max fuel
  
  // === Engine 1 ===
  "throttle 1, %": 55.0,           // Throttle position
  "RPM throttle 1, %": 55.0,
  "power 1, hp": 825.0,            // Engine power hp
  "RPM 1": 4400,                   // Engine RPM
  "manifold pressure 1, atm": 1.275, // Boost pressure
  "oil temp 1, C": 77.5,           // Oil temperature
  "water temp 1, C": 88.5,         // Coolant temperature
  "thrust 1, kgs": 5500,           // Thrust kgs (jets)
  "efficiency 1, %": 85.0,         // Propeller efficiency
  
  // === Controls ===
  "aileron, %": 0.0,               // Roll control
  "elevator, %": 0.0,              // Pitch control
  "rudder, %": 0.0,                // Yaw control
  "flaps, %": 0.0,                 // Flaps position
  "gear, %": 100.0,                // Landing gear position
  "airbrake, %": 0.0               // Air brake position
}
```

---

## üöú /indicators (Tank)

### –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
```json
{
  "valid": true,
  "army": "ground",
  "type": "tank",
  
  "speed": 40,                     // –∫–º/—á
  "rpm": 2000,                     // Engine RPM
  "gear": 1,                       // Current gear
  "throttle": 66.0,                // Throttle %
  "oil_temperature": 75.0,         // Oil temp C
  "water_temperature": 85.0,       // Coolant temp C
  "ammo_count": 45                 // Rounds
}
```

---

## üö¢ /indicators (Ship)

### –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
```json
{
  "valid": true,
  "army": "sea",
  "type": "ship",
  
  "speed": 25,                     // —É–∑–ª—ã
  "rpm": 1500,                     // Engine RPM
  "throttle": 50.0,                // Throttle %
  "compass": 180.0,                // Heading deg
  "ammo_count": 250                // Rounds
}
```

---

## üó∫Ô∏è /map_obj.json

### Player Object:
```json
{
  "type": "aircraft",              // –∏–ª–∏ "ground_model", "ship"
  "color": "#faC81E",              // Yellow (player)
  "color[]": [250, 200, 30],
  "blink": 0,
  "icon": "Player",                // –∏–ª–∏ "Fighter", "Tank", "Ship"
  "icon_bg": "none",
  "x": 0.5,                        // Map position X [0..1]
  "y": 0.5,                        // Map position Y [0..1]
  "dx": 0.707,                     // Direction X (normalized)
  "dy": 0.707                      // Direction Y (normalized)
}
```

### Enemy Objects (x3):
```json
{
  "type": "aircraft",
  "color": "#fa0C00",              // Red (enemy)
  "color[]": [250, 12, 0],
  "blink": 0,
  "icon": "Fighter",
  "icon_bg": "none",
  "x": 0.3,
  "y": 0.4,
  "dx": -0.5,
  "dy": 0.866
}
```

### Friendly Objects (x2):
```json
{
  "type": "aircraft",
  "color": "#174DFF",              // Blue (friendly)
  "color[]": [23, 77, 255],
  "blink": 0,
  "icon": "Fighter",
  "icon_bg": "none",
  "x": 0.6,
  "y": 0.7,
  "dx": 0.866,
  "dy": 0.5
}
```

---

## üó∫Ô∏è /map_info.json

```json
{
  "valid": true,
  "map_generation": 1,             // Map version
  "map_min": [-16384.0, -16384.0], // Min coordinates meters
  "map_max": [16384.0, 16384.0],   // Max coordinates meters
  "grid_zero": [-12216.0, 8120.0], // Grid origin meters
  "grid_size": [24432.0, 24432.0], // Grid size meters
  "grid_steps": [2400.0, 2400.0],  // Grid step size meters
  "hud_type": 1                    // HUD type
}
```

---

## üéØ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –í—ã—á–∏—Å–ª–µ–Ω–∏—è

### –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ Speed:
```rust
set_speed(550) ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã—á–∏—Å–ª—è–µ—Ç:
  ias = 550           // –£–∫–∞–∑–∞–Ω–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å
  tas = 632.5         // +15% –Ω–∞ –≤—ã—Å–æ—Ç–µ 5000–º
  mach = 0.516        // tas / 1225
  rpm = 4400          // speed * 8
  throttle = 55%      // speed / 1000 * 100
  thrust = 5500 kgs   // throttle * 100
  oil_temp = 77.5¬∞C   // 50 + throttle * 0.5
  water_temp = 88.5¬∞C // 50 + throttle * 0.7
  manifold_pressure = 1.275 // 1.0 + throttle/100 * 0.5
```

### –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ Altitude:
```rust
set_altitude(5000) ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã—á–∏—Å–ª—è–µ—Ç:
  tas = ias * 1.075   // +7.5% –Ω–∞ 5000–º
  mach = tas / 1225   // –ü–µ—Ä–µ—Å—á—ë—Ç –ú–∞—Ö–∞
```

### –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ Heading:
```rust
set_heading(90) ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã—á–∏—Å–ª—è–µ—Ç:
  compass = 90        // –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–∞—Å–∞
```

---

## üìà –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å —Ä–µ–∞–ª—å–Ω—ã–º API

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –≠–º—É–ª—è—Ç–æ—Ä | –†–µ–∞–ª—å–Ω—ã–π API | –°–æ–≤–ø–∞–¥–µ–Ω–∏–µ |
|----------|----------|--------------|------------|
| `valid` | ‚úÖ | ‚úÖ | 100% |
| `army` | ‚úÖ | ‚úÖ | 100% |
| `type` | ‚úÖ | ‚úÖ | 100% |
| `speed` | ‚úÖ | ‚úÖ | 100% |
| `pedals` | ‚úÖ | ‚úÖ | 100% |
| `stick_elevator` | ‚úÖ | ‚úÖ | 100% |
| `stick_ailerons` | ‚úÖ | ‚úÖ | 100% |
| `altitude_hour` | ‚úÖ | ‚úÖ | 100% |
| `altitude_min` | ‚úÖ | ‚úÖ | 100% |
| `aviahorizon_roll` | ‚úÖ | ‚úÖ | 100% |
| `aviahorizon_pitch` | ‚úÖ | ‚úÖ | 100% |
| `compass` | ‚úÖ | ‚úÖ | 100% |
| `rpm` | ‚úÖ | ‚úÖ | 100% |
| `throttle` | ‚úÖ | ‚úÖ | 100% |
| `water_temperature` | ‚úÖ | ‚úÖ | 100% |
| `gears` | ‚úÖ | ‚úÖ | 100% |
| `gear_lamp_*` | ‚úÖ | ‚úÖ | 100% |
| `weapon2/4` | ‚úÖ | ‚úÖ | 100% |
| `H, m` | ‚úÖ | ‚úÖ | 100% |
| `TAS, km/h` | ‚úÖ | ‚úÖ | 100% |
| `IAS, km/h` | ‚úÖ | ‚úÖ | 100% |
| `M` | ‚úÖ | ‚úÖ | 100% |
| `AoA, deg` | ‚úÖ | ‚úÖ | 100% |
| `AoS, deg` | ‚úÖ | ‚úÖ | 100% |
| `Ny` | ‚úÖ | ‚úÖ | 100% |
| `Vy, m/s` | ‚úÖ | ‚úÖ | 100% |
| `Wx, deg/s` | ‚úÖ | ‚úÖ | 100% |
| `Mfuel, kg` | ‚úÖ | ‚úÖ | 100% |
| `throttle 1, %` | ‚úÖ | ‚úÖ | 100% |
| `RPM 1` | ‚úÖ | ‚úÖ | 100% |
| `power 1, hp` | ‚úÖ | ‚úÖ | 100% |
| `oil temp 1, C` | ‚úÖ | ‚úÖ | 100% |
| `water temp 1, C` | ‚úÖ | ‚úÖ | 100% |
| `aileron, %` | ‚úÖ | ‚úÖ | 100% |
| `elevator, %` | ‚úÖ | ‚úÖ | 100% |
| `rudder, %` | ‚úÖ | ‚úÖ | 100% |
| `flaps, %` | ‚úÖ | ‚úÖ | 100% |
| `gear, %` | ‚úÖ | ‚úÖ | 100% |

**–ò–¢–û–ì–û:** 40+ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ = 100% —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Å —Ä–µ–∞–ª—å–Ω—ã–º API! ‚úÖ

---

## üéÆ –ö–∞–∫ –¥–≤–∏–∂–æ–∫ —Ä–µ–∞–≥–∏—Ä—É–µ—Ç

### Indicators
```rust
// WTTelemetryReader::get_state()
indicators.rpm > 100 ‚Üí EngineRunning event
indicators.speed > 0 ‚Üí Vehicle moving
indicators.throttle ‚Üí Throttle position
```

### State
```rust
// WTTelemetryReader::get_state()
state.Ny > 2.0 ‚Üí High G-load
state.IAS ‚Üí Speed detection
state.AoA ‚Üí Stall warning
state.Vy ‚Üí Climb/descent rate
```

### Events
```rust
// EventEngine::check_triggers()
Hit ‚Üí Haptic pattern
Kill ‚Üí Haptic pattern
CriticalHit ‚Üí Haptic pattern
EngineOverheat ‚Üí Haptic pattern
```

**–î–≤–∏–∂–æ–∫ —Å—á–∏—Ç—ã–≤–∞–µ—Ç —ç–º—É–ª—è—Ç–æ—Ä –¢–û–ß–ù–û –¢–ê–ö –ñ–ï –∫–∞–∫ —Ä–µ–∞–ª—å–Ω—É—é –∏–≥—Ä—É!** üéØ

---

**–°–æ–∑–¥–∞–Ω–æ:** 2025-10-26  
**–í–µ—Ä—Å–∏—è:** 0.8.1  
**–ü–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:** 70+

