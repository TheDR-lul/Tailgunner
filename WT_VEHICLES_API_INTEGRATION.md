# üéØ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è WT Vehicles API

## üìã –û–±–∑–æ—Ä

**Butt Thunder** —Ç–µ–ø–µ—Ä—å –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å **War Thunder Vehicles API** –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ —Ç–µ—Ö–Ω–∏–∫–∏ (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å, G-–ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏, –∏ —Ç.–¥.) **–ë–ï–ó GPL –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**.

### ‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

- **HTTP REST API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** (–≤–º–µ—Å—Ç–æ GPL –±–∏–±–ª–∏–æ—Ç–µ–∫–∏)
- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã** –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ç–µ—Ö–Ω–∏–∫–∏
- **–û—Ñ–ª–∞–π–Ω-–∫—ç—à** –¥–ª—è –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Å–∞–º–æ–ª—ë—Ç–æ–≤
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è** –≤–∏–±—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –ø–æ–¥ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ –ø—Ä–µ–¥–µ–ª—ã

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ú–æ–¥—É–ª–∏

1. **`wt_vehicles_api.rs`** - HTTP –∫–ª–∏–µ–Ω—Ç –¥–ª—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ REST API
2. **`dynamic_triggers.rs`** - –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö –æ —Ç–µ—Ö–Ω–∏–∫–µ
3. **`haptic_engine.rs`** - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤ –≤ –æ—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª

---

## üì° REST API Endpoint

```
https://www.wtvehiclesapi.sgambe.serv00.net/api/vehicles/{identifier}
```

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```bash
curl https://www.wtvehiclesapi.sgambe.serv00.net/api/vehicles/bf-109f-4
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "identifier": "bf-109f-4",
  "wikiname": "Bf 109 F-4",
  "display_name": "Bf 109 F-4",
  "vehicle_type": "fighter",
  "country": "Germany",
  "rank": 3,
  "battle_rating": {
    "ab": 3.3,
    "rb": 3.7,
    "sb": 4.0
  },
  "max_speed_kmh": 635.0,
  "max_positive_g": 12.5,
  "max_negative_g": -6.0,
  "engine_power_hp": 1350
}
```

---

## üî• –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ —Ç–µ—Ö–Ω–∏–∫–∏:

### 1. **Overspeed (95% –æ—Ç –º–∞–∫—Å —Å–∫–æ—Ä–æ—Å—Ç–∏)**
- **Bf 109 F-4:** 603 –∫–º/—á (95% –æ—Ç 635)
- **P-51D-5:** 675 –∫–º/—á (95% –æ—Ç 710)

### 2. **Critical Speed (99% –æ—Ç –º–∞–∫—Å)**
- –ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–∞—è –≤–∏–±—Ä–∞—Ü–∏—è –ø—Ä–∏ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–∏ –∫ –º–∞–∫—Å–∏–º—É–º—É

### 3. **OverG (90% –æ—Ç –º–∞–∫—Å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–π G)**
- **Bf 109 F-4:** 11.25G (90% –æ—Ç 12.5)
- **Yak-3:** 11.7G (90% –æ—Ç 13.0)

### 4. **Critical OverG (100% –æ—Ç –º–∞–∫—Å)**
- –≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–∞—è –≤–∏–±—Ä–∞—Ü–∏—è –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –ø—Ä–µ–¥–µ–ª–∞

### 5. **Negative G Warning (90% –æ—Ç –º–∞–∫—Å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–π G)**
- **Bf 109 F-4:** -5.4G (90% –æ—Ç -6.0)

---

## üíæ –û—Ñ–ª–∞–π–Ω-–∫—ç—à

### –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Å–∞–º–æ–ª—ë—Ç—ã

```rust
lazy_static::lazy_static! {
    pub static ref DEFAULT_LIMITS: HashMap<&'static str, VehicleLimits> = {
        // Bf 109 F-4
        "bf-109f-4" => max_speed: 635 –∫–º/—á, +12.5G/-6.0G
        
        // Spitfire Mk Vb
        "spitfire_mk5b" => max_speed: 605 –∫–º/—á, +12.0G/-5.5G
        
        // P-51D-5
        "p-51d-5" => max_speed: 710 –∫–º/—á, +11.5G/-5.0G
        
        // Yak-3
        "yak-3" => max_speed: 655 –∫–º/—á, +13.0G/-6.5G
        
        // La-5FN
        "la-5fn" => max_speed: 635 –∫–º/—á, +12.0G/-6.0G
        
        // Fw 190 A-5
        "fw-190a-5" => max_speed: 670 –∫–º/—á, +11.0G/-4.5G
        
        // Default (–¥–ª—è –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–π —Ç–µ—Ö–Ω–∏–∫–∏)
        "default" => max_speed: 700 –∫–º/—á, +12.0G/-6.0G
    };
}
```

---

## üõ†Ô∏è API –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

```rust
use crate::dynamic_triggers::DynamicTriggerManager;

let manager = DynamicTriggerManager::new();

// –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–µ–∫—É—â–µ–π —Ç–µ—Ö–Ω–∏–∫–∏
manager.update_vehicle("bf-109f-4").await?;
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤

```rust
// –í –≥–ª–∞–≤–Ω–æ–º —Ü–∏–∫–ª–µ HapticEngine
let dynamic_events = dynamic_trigger_manager
    .check_dynamic_triggers(&game_state)
    .await;

events.extend(dynamic_events);
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤

```rust
let limits = manager.get_current_limits().await;
println!("Max speed: {} –∫–º/—á", limits.max_speed_kmh);
println!("Max G: +{} / {}", limits.max_positive_g, limits.max_negative_g);
```

---

## üîÑ –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

```
1. –ò–≥—Ä–æ–∫ —Å–∞–¥–∏—Ç—Å—è –≤ —Ç–µ—Ö–Ω–∏–∫—É
   ‚Üì
2. WTTelemetryReader –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç VehicleID
   ‚Üì
3. DynamicTriggerManager –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ:
   a. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç DEFAULT_LIMITS (–æ—Ñ–ª–∞–π–Ω-–∫—ç—à)
   b. –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ ‚Üí HTTP –∑–∞–ø—Ä–æ—Å –∫ API
   c. –ï—Å–ª–∏ API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω ‚Üí –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –ª–∏–º–∏—Ç—ã
   ‚Üì
4. –ü–µ—Ä–µ—Å–æ–∑–¥–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã —Å –Ω–æ–≤—ã–º–∏ –ø–æ—Ä–æ–≥–∞–º–∏
   ‚Üì
5. HapticEngine –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç—Ä–∏–≥–≥–µ—Ä—ã –∫–∞–∂–¥—ã–π –∫–∞–¥—Ä (100ms)
   ‚Üì
6. –ü—Ä–∏ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–∏ ‚Üí –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤–∏–±—Ä–∞—Ü–∏—è –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
```

---

## üéÆ –ü—Ä–∏–º–µ—Ä—ã —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

### Scenario 1: Bf 109 F-4 (–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –ø–∏–∫–∏—Ä–æ–≤–∞–Ω–∏–µ)

```
–ù–∞—á–∞–ª—å–Ω–∞—è –≤—ã—Å–æ—Ç–∞: 4000–º
–°–∫–æ—Ä–æ—Å—Ç—å: 300 –∫–º/—á
–î–µ–π—Å—Ç–≤–∏–µ: –ü–∏–∫–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥ —É–≥–ª–æ–º 60¬∞

‚Üí 450 –∫–º/—á - –õ—ë–≥–∫–∞—è –≤–∏–±—Ä–∞—Ü–∏—è (—Ä–æ–∫–æ—Ç –¥–≤–∏–≥–∞—Ç–µ–ª—è)
‚Üí 550 –∫–º/—á - –°—Ä–µ–¥–Ω—è—è –≤–∏–±—Ä–∞—Ü–∏—è (–∞—ç—Ä–æ–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —à—É–º—ã)
‚Üí 603 –∫–º/—á (95%) - üî• Overspeed! –ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–∞—è –≤–∏–±—Ä–∞—Ü–∏—è
‚Üí 629 –∫–º/—á (99%) - ‚ö° Critical Speed! –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≤–∏–±—Ä–∞—Ü–∏—è
```

### Scenario 2: Yak-3 (–ú–∞–Ω—ë–≤—Ä–µ–Ω–Ω—ã–π –±–æ–π)

```
G-–ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞ —Ä–∞—Å—Ç—ë—Ç –≤ –≤–∏—Ä–∞–∂–µ

‚Üí 8G - –õ—ë–≥–∫–∞—è –≤–∏–±—Ä–∞—Ü–∏—è
‚Üí 11.7G (90%) - üí• OverG Warning! –°–∏–ª—å–Ω–∞—è –≤–∏–±—Ä–∞—Ü–∏—è
‚Üí 13G (100%) - üîª Critical OverG! –≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–∞—è –≤–∏–±—Ä–∞—Ü–∏—è
```

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å GPL –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π

| –ü–∞—Ä–∞–º–µ—Ç—Ä | GPL –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ | REST API (–Ω–∞—à–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è) |
|----------|----------------|----------------------------|
| –õ–∏—Ü–µ–Ω–∑–∏—è | GPL-3.0 ‚ùå | –ö–æ–º–º–µ—Ä—á–µ—Å–∫–∞—è ‚úÖ |
| –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ | ~50 –ø–∞–∫–µ—Ç–æ–≤ | 0 –¥–æ–ø. –ø–∞–∫–µ—Ç–æ–≤ |
| –†–∞–∑–º–µ—Ä | +15MB | +2KB (—Ç–æ–ª—å–∫–æ HTTP –∫–ª–∏–µ–Ω—Ç) |
| –°–∫–æ—Ä–æ—Å—Ç—å | –õ–æ–∫–∞–ª—å–Ω–æ | HTTP –∑–∞–ø—Ä–æ—Å (100-200ms) |
| –û—Ñ–ª–∞–π–Ω | ‚úÖ | ‚úÖ (—Å –∫—ç—à–µ–º) |
| –û–±–Ω–æ–≤–ª–µ–Ω–∏—è | –í—Ä—É—á–Ω—É—é | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑ API |

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (v0.4.0)

- [ ] **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–µ—Ö–Ω–∏–∫–∏** –∏–∑ `localhost:8111/map_obj.json`
- [ ] **UI –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–∏–º–∏—Ç–æ–≤** —Ç–µ–∫—É—â–µ–π —Ç–µ—Ö–Ω–∏–∫–∏
- [ ] **–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –æ—Ñ–ª–∞–π–Ω-–∫—ç—à–∞** –¥–æ 100+ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Å–∞–º–æ–ª—ë—Ç–æ–≤
- [ ] **–ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã —á–µ—Ä–µ–∑ UI** - –≤–∏–∑—É–∞–ª—å–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä —É—Å–ª–æ–≤–∏–π
- [ ] **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–∞–Ω–∫–æ–≤** - –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã –¥–ª—è –Ω–∞–∑–µ–º–Ω–æ–π —Ç–µ—Ö–Ω–∏–∫–∏

---

## üìú –õ–∏—Ü–µ–Ω–∑–∏—è

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —á–µ—Ä–µ–∑ **–ø—É–±–ª–∏—á–Ω—ã–π REST API**, —á—Ç–æ –Ω–µ –Ω–∞–∫–ª–∞–¥—ã–≤–∞–µ—Ç GPL –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π.

**WT Vehicles API:** https://github.com/Sgambe33/WarThunder-Vehicles-API (GPL-3.0)  
**–ù–∞—à –ø–æ–¥—Ö–æ–¥:** HTTP –∫–ª–∏–µ–Ω—Ç ‚Üí REST API ‚Üí JSON –æ—Ç–≤–µ—Ç (–ë–ï–ó GPL –∫–æ–¥–∞)

---

## ü§ù –ö–æ–Ω—Ç—Ä–∏–±—å—é—Ç–æ—Ä–∞–º

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ —Å–∞–º–æ–ª—ë—Ç–æ–≤ –≤ –æ—Ñ–ª–∞–π–Ω-–∫—ç—à:

1. –û—Ç–∫—Ä–æ–π—Ç–µ `src-tauri/src/wt_vehicles_api.rs`
2. –ù–∞–π–¥–∏—Ç–µ `lazy_static! { pub static ref DEFAULT_LIMITS: HashMap<...> = {`
3. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å:

```rust
m.insert("your-aircraft-id", VehicleLimits {
    identifier: "your-aircraft-id".to_string(),
    max_speed_kmh: 650.0,
    max_positive_g: 12.0,
    max_negative_g: -6.0,
});
```

4. –°–æ–∑–¥–∞–π—Ç–µ PR!

